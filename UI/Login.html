<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Allum</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="imgs/logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://social.webestica.com/assets/vendor/tiny-slider/dist/tiny-slider.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/tiny-slider.css" integrity="sha512-eMxdaSf5XW3ZW1wZCrWItO2jZ7A9FhuZfjVdztr7ZsKNOmt6TUMTQgfpNoVRyfPE5S9BC0A4suXzsGSrAOWcoQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../Styles/styles.css">
  
  </head>
<body class="h-100 bg-dark">
    <div class="nav w-100 d-flex flex-row justify-content-evenly align-items-center text-white">
        <div class="col-3 m-2 h-100 d-flex align-items-center">
            <a href="Home.html">
              <img src="../Sources/logo-white.png" class="col-md-3 col-7" alt="">
            </a> 
          </div>
          <div class="h-100 d-flex align-items-center">
            <button class="btn bg-transparent d-lg-none d-block text-white" type="button" data-bs-toggle="collapse" data-bs-target="#collapsenav" aria-expanded="false" aria-controls="collapsenav">
                <i class="fa-solid fa-bars"></i>
              </button>
          </div>
        <div class="container-fluid col-6 d-lg-flex d-none flex-row justify-content-center"  >
            <div class="col-9 d-flex flex-row justify-content-end">
                <div class="col-3 capitalize"><a href="Home.html">HOME</a></div>
                <div class="col-3 capitalize"><a href="Shop.html" >SHOP</a></div>
                <div class="col-3 capitalize"><a href="#" class="nav-active">ABOUT US</a></div>
                <div class="col-3 capitalize"><a href="Contact-us.html" >CONTACT</a></div>
                <div class="col-3 on-b">
                    <a href="Order-now.html" class="no-hover">Order Now</a> 
                 </div>
            </div>
        </div>
        <div class="collapse col-12" id="collapsenav">
            <div class="card col-12 card-body bg-black d-flex justify-content-center align-content-center">
                <div class="col-12 on-b"><a href="Home.html">HOME</a></div>
                <div class="col-12 on-b capitalize"><a href="Shop.html" >SHOP</a></div>
                <div class="col-12 on-b capitalize"><a href="#" class="nav-active">ABOUT US</a></div>
                <div class="col-12 on-b capitalize"><a href="Contact-us.html" >CONTACT</a></div>
                <div class="col-12">
                    <div class="on-b">
                    <a href="Order-now.html" class="no-hover">Order Now</a> 
                 </div>
                </div>
            </div>
          </div>
    </div>
    <div class="bg-dark pt-5 pb-5 h-100 position-relative">
        <div class="container mt-5">
          <div class="row justify-content-center mt-5 text-center">
            <div class="col-sm-10 col-md-8 col-lg-6 position-absolute z-index-1 mt-5">
              <div class="card card-body p-4 p-sm-5 mt-sm-n5 mb-n5 bg-dark text-white">
                <h2 class="h1 mb-2 text-white">Sign in</h2>
                <p>Don't have an account?<a href="SignUp.html"> Click here to sign up</a></p>
                <form class="mt-4" id="form" >
                      <div class="mb-3 position-relative input-group-lg">
                        <input type="text" class="form-control" placeholder="Enter email" id="email" required>
                      </div>
                      <div class="mb-3 position-relative input-group-lg">
                        <input type="password" class="form-control" placeholder="Enter password" id="password" required>
                      </div>
                  <div class="mb-3 d-sm-flex justify-content-between">
                    <div>
                    </div>  
                    <a href="forgot-password.html">Forgot password?</a>
                  </div>
                  <div class="d-grid">
                    <button type="submit" class="btn btn-lg on-b text-white py-2" id="sign-in">Sign in</button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <button type="button" class="btn btn-primary d-none" id="modal-trigger" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
        Launch static backdrop modal
      </button>
      
      <!-- Modal -->
      <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" id="modal" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="alert-content">
              
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-dark" data-bs-dismiss="modal">Understood</button>
            </div>
          </div>
        </div>
      </div>

      <script src="https://kit.fontawesome.com/1abca24729.js" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.9.4/min/tiny-slider.js" integrity="sha512-j+F4W//4Pu39at5I8HC8q2l1BNz4OF3ju39HyWeqKQagW6ww3ZF9gFcu8rzUbyTDY7gEo/vqqzGte0UPpo65QQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
      <script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>

    <script>
     const form = document.getElementById("form");
const users = JSON.parse(localStorage.getItem("users")) || [];

const emailPattern = new RegExp("[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[a-z]");

const EmailInput = document.querySelector("#email");

EmailInput.addEventListener("input",()=>{
    if(!emailPattern.test(EmailInput.value))document.getElementById("email").style.border="4px solid red";
    else document.getElementById("email").style.border="1px solid transparent";
})

form.addEventListener("submit",(e)=>{
e.preventDefault();
const eIntput = document.getElementById("email")
const email =    eIntput.value;

if(!emailPattern.test(email)) return;
const pIntput = document.getElementById("password")
const password =    pIntput.value;
const u = {
  id:Math.random().toString(),
  email:email,
  password:password
}
if(verif(u)){
  window.location.href = "Home.html";
  localStorage.setItem("user",JSON.stringify(u));
}
else e.target.reset();
});

form.addEventListener("reset",()=>{
  const modalContent = $("#alert-content");
  modalContent.html("Email or password is incorect. Please retry again");
  $("#modal-trigger").click();
})

function verif(u){
let res = false;
users.forEach(element => {
  if(element.email ==u.email && element.password == u.password){
    res = true;
  }
});
return res;
}
   </script>
</body>
</html> 